# UI設計方針書: 脳活ファミリー

> **ドキュメントバージョン**: 1.0.0
> **作成日**: 2026-02-15
> **Phase**: 2 - 設計
> **ステータス**: Draft
> **ソースドキュメント**: [デザイン要件書](../requirements/design-requirements.md) | [デザインシステム](./design-system.yml)

---

## 目次

1. [Aesthetic Direction（美的方向性）](#1-aesthetic-direction美的方向性)
2. [Design Principles（デザイン原則）](#2-design-principlesデザイン原則)
3. [Typography Guidelines（タイポグラフィ）](#3-typography-guidelinesタイポグラフィ)
4. [Color Guidelines（カラー）](#4-color-guidelinesカラー)
5. [Motion Guidelines（モーション）](#5-motion-guidelinesモーション)
6. [Character Design Guidelines（キャラクター）](#6-character-design-guidelinesキャラクター)
7. [Tone of Voice（文言ガイドライン）](#7-tone-of-voice文言ガイドライン)
8. [Anti-Patterns (NEVER)](#8-anti-patterns-never)

---

## 1. Aesthetic Direction（美的方向性）

### 1.1 トーン

**warm-friendly**（温かみ・やさしさ・信頼感）

このアプリのUI空間は「おばあちゃんの家に遊びに来たときの安心感」をデジタル上に再現する。柔らかい光が差し込む居間のような温もりをスクリーンに投影し、5歳の子供から80代のシニアまで、すべての世代が「ここにいると安心する」と感じられる場所を構築する。

### 1.2 ムード

**明るく楽しいが、落ち着きもある。子供っぽすぎず、堅すぎない。**

4つの情緒的な柱で空気感を定義する。

| 柱 | 表現手法 | 避けるべき偏り |
|------|--------|-------------|
| 楽しさ (Fun) | ゲーム的達成感、キャラクターの励まし、紙吹雪演出 | ガチャガチャしたゲーム感、射幸心を煽る表現 |
| 温かさ (Warm) | 手書き風の揺らぎ、丸みのあるUI、暖色のクリーム背景 | 冷たいフラットデザイン、灰色のUIカラー |
| 信頼感 (Trustworthy) | 一貫したトークンシステム、洗練されたグラフ、整然としたグリッド | 安っぽいクリップアート、チープなアイコン |
| 落ち着き (Calm) | 十分な余白、穏やかな配色、静かなアニメーション | 派手すぎる配色、過剰な動き、情報過多 |

### 1.3 差別化

**「医療っぽくない楽しい健康アプリ」**

既存のヘルスケアアプリが持つ堅苦しさ -- 白衣のイメージ、無機質なグラフ、冷たいUI -- を完全に排除し、ゲーム感覚の楽しさと医学的信頼性を両立させる。ユーザーが毎日開きたくなる「温かい居場所」としてのアプリ体験を実現する。

**忘れられない一つのこと**: 家族みんなの笑顔が見えるアプリ

### 1.4 参照ボード

| 参照 | 採り入れる要素 | 採り入れない要素 |
|------|-------------|---------------|
| **Nintendo** | 親しみやすさ、世代を超えた楽しさ、直感的操作、丸みのあるUI | ゲーム的な競争の激しさ、複雑なメニュー構造 |
| **LINE** | 温かいコミュニケーション、スタンプ的な感情表現、家族感 | ビジネス機能の複雑さ、広告UI |
| **Apple Health** | データの信頼感、洗練されたグラフ、クリーンなレイアウト | 無機質さ、冷たい色調、医療感 |
| **Duolingo** | ゲーミフィケーション、キャラクター活用、達成感の演出、ストリーク | 過度なプッシュ通知の圧、課金への誘導 |

### 1.5 差別化マトリクス

```
          楽しい
            |
     脳活ファミリー
    /               \
温かい ────────────── 信頼できる
    \               /
         落ち着く
            |

※ 4象限すべてをバランスよく兼ね備えるのが本アプリの立ち位置。
  「楽しい」に寄りすぎず、「信頼できる」に寄りすぎない。
  常に温かさと落ち着きを基盤として維持する。
```

---

## 2. Design Principles（デザイン原則）

### 原則 1: 3世代が楽しめる包括的デザイン

5歳の孫、40代の親、75歳の祖父母。この3世代が同じアプリを使う。特定世代向けに最適化するのではなく、UIモードによる段階的な調整で全員が心地よく使える設計を行う。

**実践**:
- シニアモード/標準モード/キッズモードの3モードで表示を最適化する
- モードが変わっても情報の内容は同じ。見せ方だけを調整する
- 世代カラー（ティール/ブルー/コーラルピンク）で「誰の画面か」を視覚的に識別させる

### 原則 2: 笑顔が生まれるインタラクション

すべてのインタラクションに「小さな喜び」を仕込む。ボタンを押した瞬間、正解した瞬間、記録を更新した瞬間 -- それぞれの場面でユーザーの表情がほころぶ演出を設計する。

**実践**:
- 正解時にはブランドカラーの紙吹雪パーティクルが舞う
- ストリーク達成時には星の放射演出とキャラクターのジャンプ
- スコア表示はカウントアップアニメーションで達成感を増幅する
- キャラクター「のうかつ博士」が常にポジティブな声かけをする

### 原則 3: 不安を与えない表現

認知症予防アプリだからこそ、ユーザーに「自分は衰えているのではないか」という不安を絶対に与えてはならない。すべての表現はポジティブに、すべてのフィードバックは前向きに。

**実践**:
- 赤色（#FF0000系）は一切使用しない。エラーもコーラル/オレンジ系で表現する
- 否定語を使用しない。「不正解」ではなく「おしい! もう一度やってみよう」
- 「認知症」「老化」「衰え」などの医療用語を直接使用しない
- 低いスコアでも「ここが伸びしろだよ」と前向きに表現する
- 比較グラフは「他者との差」ではなく「自分の成長」にフォーカスする

### 原則 4: シンプルだが退屈ではない

情報設計はシンプルに、しかしビジュアル表現は豊かに。操作で迷わせず、見た目で飽きさせない。

**実践**:
- 1画面1アクションを基本とする（特にシニアモード）
- 複雑な情報は「もっと見る」で段階的に開示する
- カード型UIで情報をチャンク化し、視覚的なリズムを作る
- キャラクターアニメーション、達成バッジ、カレンダーヒートマップで視覚的な楽しさを担保する
- 十分な余白を取り、要素に「呼吸の空間」を与える

### 原則 5: 安全ネットを張る

ユーザーが操作を誤っても、いつでも安心して元に戻れるようにする。特にシニアユーザーは「取り返しがつかない操作」を恐れるため、すべての操作に安全ネットを用意する。

**実践**:
- 常に「戻る」動線を明確にする
- 重要操作は2ステップ確認（「本当にいいですか?」）
- 取り消し（Undo）を常に提供する
- モード切替してもデータ・進捗は保持する
- エラー画面ではキャラクターが回復手順を案内する

---

## 3. Typography Guidelines（タイポグラフィ）

### 3.1 フォントファミリー

#### 見出し用

| 言語 | フォント | フォールバック |
|------|---------|-------------|
| 日本語 | **Zen Maru Gothic** | "Hiragino Maru Gothic ProN", sans-serif |
| 英数字 | **Nunito** | "Hiragino Maru Gothic ProN", sans-serif |

**選定理由**: Zen Maru Gothic は丸みを帯びた温かいゴシック体。角張ったフォントが持つ「堅さ」を排除し、親しみやすさを第一に表現する。Nunito はラテン文字における丸ゴシックの代表格で、Zen Maru Gothic との視覚的ハーモニーが高い。

#### 本文用

| 言語 | フォント | フォールバック |
|------|---------|-------------|
| 日本語 | **Noto Sans JP** | "Hiragino Kaku Gothic ProN", sans-serif |
| 英数字 | **Nunito Sans** | "Hiragino Kaku Gothic ProN", sans-serif |

**選定理由**: Noto Sans JP は可読性に優れた日本語ゴシック体。ウェイトのバリエーションが豊富で、本文から強調テキストまで一貫した品質で使用できる。長文読解時の疲労感が少ない。

#### 数値・スコア用

| フォント | 設定 |
|---------|------|
| **Nunito** | `font-feature-settings: "tnum"` (tabular-nums) |

**選定理由**: 等幅数字によりスコアや統計が整然と並ぶ。カウントアップアニメーション中に数字幅が変動しないため、レイアウトシフトを防止する。

### 3.2 禁止フォント

以下のフォントは**いかなる場面でも使用禁止**とする。

| フォント | 禁止理由 |
|---------|---------|
| **Inter** | AI生成コードの典型パターン（AI slop）。温かみの欠如 |
| **Roboto** | AI生成コードの典型パターン（AI slop）。Googleプロダクト臭 |
| **Arial** | 没個性。温かみがなく、認知症予防アプリのトーンと不一致 |
| **Weight 100-200** | 極細ウェイト。シニアユーザーが読めない |

### 3.3 フォントウェイト

| 名称 | ウェイト値 | 使用場面 |
|------|----------|---------|
| Regular | **400** | 本文テキスト、説明文、プレースホルダー |
| Medium | **500** | 強調テキスト、フォームラベル、ナビゲーション |
| SemiBold | **600** | 小見出し、ボタンテキスト、タブラベル |
| Bold | **700** | 見出し (H1-H4)、スコア表示、カード見出し |
| ExtraBold | **800** | ヒーローテキスト、達成画面の大きな数字 |

### 3.4 3モード別タイプスケール

#### 通常モード（標準）

| レベル | サイズ | 行間 | ウェイト | 用途 |
|--------|-------|------|---------|------|
| Display | 2.5rem (40px) | 1.2 | 800 | ヒーロー、達成画面 |
| H1 | 2rem (32px) | 1.3 | 700 | ページタイトル |
| H2 | 1.5rem (24px) | 1.4 | 700 | セクション見出し |
| H3 | 1.25rem (20px) | 1.4 | 600 | カード見出し |
| H4 | 1.125rem (18px) | 1.5 | 600 | サブ見出し |
| Body Large | 1.125rem (18px) | 1.6 | 400 | リード文 |
| Body | 1rem (16px) | 1.6 | 400 | 本文 |
| Body Small | 0.875rem (14px) | 1.5 | 400 | 補足テキスト |
| Caption | 0.75rem (12px) | 1.5 | 500 | タイムスタンプ、ラベル |

#### シニアモード

すべてのテキストを拡大し、行間を広げる。**最小フォントサイズ: 20px**。

| レベル | サイズ | 行間 | 通常比 |
|--------|-------|------|--------|
| Display | 3rem (48px) | 1.3 | +8px |
| H1 | 2.5rem (40px) | 1.4 | +8px |
| H2 | 2rem (32px) | 1.5 | +8px |
| H3 | 1.5rem (24px) | 1.5 | +4px |
| H4 | 1.375rem (22px) | 1.6 | +4px |
| Body Large | 1.375rem (22px) | 1.8 | +4px |
| Body | 1.25rem (20px) | 1.8 | **最小 20px** |
| Body Small | 1.125rem (18px) | 1.7 | +4px |
| Caption | 1rem (16px) | 1.6 | +4px |

**シニアモード固有ルール**:
- 行間は 1.8 を下限とする（本文）
- 文字間隔（letter-spacing）を `0.02em` 追加し、1文字ずつの判読性を向上させる
- コントラスト比 7:1 以上を必須とする
- 太字（700）以上のウェイトを見出しに使用し、本文との視覚的差異を明確にする

#### キッズモード

テキストをやや拡大し、楽しさを重視した表示にする。**最小フォントサイズ: 18px**。

| レベル | サイズ | 行間 | 通常比 |
|--------|-------|------|--------|
| Display | 2.75rem (44px) | 1.2 | +4px |
| H1 | 2.25rem (36px) | 1.3 | +4px |
| H2 | 1.75rem (28px) | 1.4 | +4px |
| H3 | 1.375rem (22px) | 1.5 | +2px |
| H4 | 1.25rem (20px) | 1.5 | +2px |
| Body Large | 1.25rem (20px) | 1.7 | +2px |
| Body | 1.125rem (18px) | 1.7 | **最小 18px** |
| Body Small | 1rem (16px) | 1.6 | +2px |
| Caption | 0.875rem (14px) | 1.6 | +2px |

**キッズモード固有ルール**:
- ふりがな（ルビ）を漢字に付与する（小学生以下）
- ひらがな表記をナビゲーションラベルに使用する
- 見出しに ExtraBold (800) を積極的に使い、視覚的な楽しさを演出する

### 3.5 文字組みルール

| ルール | 実装 | 対象 |
|--------|------|------|
| 見出し折り返し | `text-wrap: balance` | すべての見出し要素 (H1-H4, Display) |
| 等幅数字 | `font-feature-settings: "tnum"` (tabular-nums) | スコア、タイマー、統計数値 |
| 行頭禁則 | CSSの `word-break: normal` | 句読点のぶら下がり禁止 |
| 混合スクリプト間隔 | 漢字とアルファベットの間に半角スペース | コンテンツ側で自動挿入 |

### 3.6 フォント読み込み戦略

```
1. font-display: swap を全フォントに設定
2. 日本語フォントはサブセット化（使用文字のみ）
3. Google Fonts のプリコネクト:
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
4. フォント読み込み完了までシステムフォントでレンダリング
5. CLS防止: フォールバックフォントのサイズ調整 (size-adjust)
```

---

## 4. Color Guidelines（カラー）

### 4.1 ブランドカラー

3色のブランドカラーが「脳活ファミリー」のビジュアルアイデンティティを構成する。

| 名称 | Hex | 意味 | 使用場面 |
|------|-----|------|---------|
| **Primary（フォレストグリーン）** | `#3D8B5F` | 生命力、健康、安心感 | メインアクション、ナビゲーション、ヘッダー |
| **Secondary（コーラル）** | `#E8845C` | 活力、温かさ、励まし | サブアクション、アクセント、エラー表示 |
| **Accent（イエロー）** | `#F2C94C` | 希望、ポジティブ、達成感 | 達成表示、バッジ、特別な強調 |

#### 色の比率ルール

```
Primary (グリーン)    : 60%  -- 支配的。アプリの基調色
Secondary (コーラル)   : 25%  -- 活力のアクセント。CTAやハイライト
Accent (イエロー)     : 15%  -- ここぞという場面のみ。達成・祝福

※ 3色すべてを同時に大面積で使わない。
  Primary を基調とし、Secondary と Accent は刺し色として使う。
```

### 4.2 セマンティックカラー

情報の意味を伝えるためのカラー群。**赤色は一切使用しない**。

| 意味 | Light Mode | Dark Mode | 使用場面 |
|------|-----------|-----------|---------|
| 成功 (Success) | `#5BA97B` | `#6DBF8B` | テスト正解、達成バッジ、ストリーク |
| 注意 (Warning) | `#E8A85C` | `#F0B86C` | 期限の接近、重要な情報 |
| 情報 (Info) | `#5B9BD5` | `#6CAAE0` | ヒント、補足、のうかつ博士の吹き出し |
| 危険 (Danger) | `#E8845C` | `#F09070` | エラー、削除確認。赤は使わずコーラルで代替 |

**赤色禁止ルール**:

> エラーや警告に `#FF0000` 系の赤色を使用してはならない。赤色はシニアユーザーに不安・恐怖・緊張を与え、アプリ体験を損なう。すべてのエラー状態はコーラル (`#E8845C`) で表現し、アイコン + テキストメッセージで意味を補足する。色だけに頼らず、3要素（色 + アイコン + テキスト）で情報を伝達する。

### 4.3 背景・サーフェスカラー

| 要素 | Light Mode | Dark Mode | 備考 |
|------|-----------|-----------|------|
| Background (base) | `#FBF8F3` クリーム | `#1A2332` ダークネイビー | 温かみのある基調色 |
| Background (elevated) | `#FFFFFF` | `#243447` | カード背景など |
| Surface (card) | `#FFFFFF` | `#2A3F55` | カード内面 |
| Surface (hover) | `#F5F0E8` | `#314A63` | ホバー/フォーカス |
| Surface (active) | `#EDE7DB` | `#3A5571` | 押下/アクティブ |
| Overlay | `rgba(26,35,50,0.4)` | `rgba(0,0,0,0.6)` | モーダル背景 |

### 4.4 テキストカラー

| レベル | Light Mode | Dark Mode | 用途 |
|--------|-----------|-----------|------|
| Primary | `#2C3E2D` ダークグリーン | `#F0EDE6` | 見出し、本文 |
| Secondary | `#6B7C6C` | `#A8B8C8` | 補足テキスト、ラベル |
| Tertiary | `#9BA89C` | `#7A8A9A` | プレースホルダー、非活性 |
| Disabled | `#C4CEC5` | `#4A5A6A` | 無効化された要素 |
| Inverse | `#FFFFFF` | `#1A2332` | 緑背景上の白文字など |

### 4.5 世代別アクセントカラー

各世代のプロフィール枠やスコアハイライトに使用し、「誰の画面・情報か」を視覚的に瞬時識別させる。

| 世代 | カラー名 | Hex | 適用箇所 |
|------|---------|-----|---------|
| シニア世代 | 落ち着いたティール | `#4A9E8E` | アバター枠、スコアカードのアクセント線、ナビゲーションハイライト |
| 親世代 | 穏やかなブルー | `#5B8DC9` | アバター枠、スコアカードのアクセント線、ナビゲーションハイライト |
| 子供・孫世代 | コーラルピンク | `#E88E7A` | アバター枠、スコアカードのアクセント線、ナビゲーションハイライト |

### 4.6 ダークモード方針

| 項目 | 仕様 |
|------|------|
| 実装方法 | Tailwind `dark:` prefix |
| トークン管理 | CSS Custom Properties（RGB値形式） |
| システム追従 | `prefers-color-scheme` で自動切替 |
| 手動切替 | 設定画面のトグルスイッチ |
| 背景ポリシー | ダークネイビー系（`#1A2332`）で温かみを維持 |
| **禁止** | 真っ黒 (`#000000`) の使用 |

**ダークモードの温かみ維持ルール**:
- 背景はネイビー～ダークスレートの範囲に留める
- カード背景はベースより若干明るい色相で浮かせる
- テキストカラーは純白 (`#FFFFFF`) ではなく、わずかに温かみを帯びたオフホワイト (`#F0EDE6`) を使用する
- シャドウの色をダークモードでも緑系のまま維持し、統一感を保つ

### 4.7 コントラスト比要件

| モード | 対象 | 最低比率 |
|--------|------|---------|
| 通常モード | 本文テキスト | 4.5:1 |
| 通常モード | 大きなテキスト (18px以上)、UIコンポーネント | 3:1 |
| シニアモード | すべてのテキスト | **7:1** |
| シニアモード | UIコンポーネント | 4.5:1 |

> すべてのカラーペアは実装前に [WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/) で検証すること。ダークモードでも同じコントラスト比要件を満たすこと。

---

## 5. Motion Guidelines（モーション）

### 5.1 基本原則

| 項目 | 仕様 | 理由 |
|------|------|------|
| ライブラリ | **motion/react** (旧 Framer Motion) | 宣言的API、Spring物理演算、SSR対応 |
| インタラクション応答 | **200ms以下** | ユーザーが「即座に反応した」と感じる閾値 |
| プロパティ制限 | **Compositor props のみ**（`transform`, `opacity`） | GPU合成レイヤーで60fps維持 |
| レイアウトアニメーション | **禁止** | `width`, `height`, `top`, `left`, `margin`, `padding` のアニメーションはリフロー発生 |
| reduced-motion | **完全対応** | `prefers-reduced-motion: reduce` 時にすべてのアニメーションを無効化 |

### 5.2 イージング関数

| 名称 | 用途 | 設定値 |
|------|------|--------|
| **ease-out** | 標準的な入りアニメーション | `cubic-bezier(0.0, 0.0, 0.2, 1.0)` |
| **ease-in** | 標準的な出アニメーション | `cubic-bezier(0.4, 0.0, 1.0, 1.0)` |
| **spring** | 強調アニメーション | `type: "spring", stiffness: 300, damping: 25` |
| **spring-bouncy** | 達成・祝福の弾むアニメーション | `type: "spring", stiffness: 400, damping: 15` |

### 5.3 ページ遷移

| 遷移方向 | アニメーション | 持続時間 |
|---------|-------------|---------|
| 前進（進む） | スライドイン（右から） + フェード | 300ms |
| 後退（戻る） | スライドアウト（右へ） + フェード | 250ms |
| モーダル表示 | スケールアップ (0.95 -> 1.0) + フェード | 200ms |
| モーダル非表示 | スケールダウン (1.0 -> 0.95) + フェード | 150ms |

### 5.4 テスト・ゲーム内アニメーションカタログ

#### 正解時

| 要素 | アニメーション | 持続時間 | 備考 |
|------|-------------|---------|------|
| 紙吹雪 | パーティクルが上から降り注ぐ | 600ms | 色はブランドカラー3色から |
| 選択肢カード | スケールバウンス (1.0 -> 1.05 -> 1.0) | 300ms | spring-bouncy イージング |
| スコアテキスト | フェードイン + カウントアップ | 1200ms | 数字がゼロから加算される |
| のうかつ博士 | 喜びの表情 + うなずきアニメーション | 400ms | 「すばらしい!」の吹き出し |

#### 連続正解（ストリーク）

| 要素 | アニメーション | 持続時間 | 備考 |
|------|-------------|---------|------|
| 星 | 画面中央から放射状に飛ぶ | 800ms | 3連続以上で発動 |
| ゴールドグロー | 背景にイエローグロー | 600ms | `#F2C94C` の薄いオーバーレイ |
| のうかつ博士 | ジャンプ x2 + 特別な表情 | 700ms | 5連続以上では「すごすぎる!」 |
| ストリークバッジ | スケールアップ + 回転 | 500ms | 炎のようなパーティクル |

#### 不正解時

| 要素 | アニメーション | 持続時間 | 備考 |
|------|-------------|---------|------|
| 選択肢カード | やさしい横揺れ (shake) | 300ms | 振幅は小さく (3px) |
| のうかつ博士 | 考え中の表情（優しいまま） | - | 「おしい! もう一度やってみよう」 |
| **禁止** | ~~赤フラッシュ~~ | - | シニアに恐怖を与える |
| **禁止** | ~~バツ印の表示~~ | - | 否定的な表現 |

#### タイムアップ時

| 要素 | アニメーション | 持続時間 | 備考 |
|------|-------------|---------|------|
| 問題カード | フェードアウト | 400ms | 穏やかに消える |
| のうかつ博士 | 応援の表情 + 手振り | 500ms | 「つぎはきっと大丈夫!」 |
| タイマー | 残り10秒で穏やかなパルス | - | 焦りではなく気づきを促す |

#### レベルアップ時

| 要素 | アニメーション | 持続時間 | 備考 |
|------|-------------|---------|------|
| レベル表示 | スケールアップ (0 -> 1.2 -> 1.0) | 1000ms | spring-bouncy |
| 光の演出 | 中央から放射状のライン | 800ms | opacity のみ使用 |
| のうかつ博士 | ジャンプ + はなまるの表情 | 700ms | 特別な台詞 |
| バッジ | 回転しながらフェードイン | 600ms | transform: rotate のみ |

### 5.5 キャラクターアニメーション

| 動き | アニメーション内容 | 持続時間 | トリガー |
|------|-----------------|---------|---------|
| 待機（アイドル） | まばたき (scale-y: 1 -> 0.1 -> 1) | 150ms | 3~5秒間隔で自動ループ |
| うなずき | rotate (0 -> -5deg -> 5deg -> 0) | 400ms | 褒め時に1回 |
| ジャンプ | translate-y (0 -> -12px -> 0) | 350ms | 達成時に2回バウンス |
| 手振り | rotate arm (0 -> 15deg -> -15deg -> 0) | 500ms | 挨拶時（アプリ起動、テスト開始） |

### 5.6 モード別アニメーション強度

| モード | 強度 | 紙吹雪 | キャラ動き | ページ遷移 |
|--------|------|--------|----------|-----------|
| **通常モード** | 100% | あり | あり | スライド + フェード |
| **シニアモード** | 30% | 控えめ（粒少） | 最小限（まばたきのみ） | フェードのみ |
| **キッズモード** | 150% | 派手（粒多 + 大きい） | 大きな動き | スライド + バウンス |
| **reduced-motion** | 0% | なし | なし | 即時切替 |

### 5.7 prefers-reduced-motion 対応

```typescript
// motion/react での実装パターン
import { useReducedMotion } from "motion/react";

function AnimatedComponent() {
  const shouldReduceMotion = useReducedMotion();

  return (
    <motion.div
      animate={{
        opacity: 1,
        // reduced-motion 時はアニメーションなし
        y: shouldReduceMotion ? 0 : [20, 0],
      }}
      transition={
        shouldReduceMotion
          ? { duration: 0 }
          : { type: "spring", stiffness: 300, damping: 25 }
      }
    />
  );
}
```

**ルール**:
- `prefers-reduced-motion: reduce` が有効な場合、すべてのアニメーションを即時完了にする
- 紙吹雪、パーティクル、キャラクターアニメーションは完全に非表示にする
- ページ遷移は即時切替にする（フェードもなし）
- 情報伝達に必要なビジュアル変化（色変化、アイコン変化）は維持する

---

## 6. Character Design Guidelines（キャラクター）

### 6.1 メインキャラクター概要

| 属性 | 仕様 |
|------|------|
| **名前** | のうかつ博士（のうかつはかせ） |
| **モチーフ** | フクロウ（知恵・見守りの象徴） |
| **性格** | 物知りでやさしい。褒め上手。失敗しても責めない |
| **配色** | フォレストグリーン (`#3D8B5F`) + クリーム (`#FBF8F3`) + アクセントイエロー (`#F2C94C`) |
| **画像形式** | SVG（アニメーション対応）または Lottie |
| **サイズ** | 通常: 80x80px / 吹き出し付き: 120x120px / ヒーロー: 200x200px |

### 6.2 表情一覧

| 表情名 | ビジュアル表現 | 使用場面 |
|--------|-------------|---------|
| **喜び** | 目が三日月型、翼を広げる | 正解時、達成時、ストリーク |
| **応援** | 片翼を上げてガッツポーズ、目がキラキラ | テスト開始前、不正解時の励まし |
| **考え中** | 片翼をあごに当てる、目が上を向く | ヒント表示時、ローディング |
| **驚き** | 目が大きく見開く、体がわずかに跳ねる | 記録更新時、新しい発見 |
| **うなずき** | 頭を小さく上下に振る | 正解の確認、操作完了時 |
| **はなまる** | 両翼で大きな丸を作る | テスト完了、レベルアップ |

### 6.3 3バリアントの使い分け

#### のうかつ博士（シニア世代向け）

| 属性 | 仕様 |
|------|------|
| **外見** | メガネ、白衣風の装い、落ち着いた佇まい |
| **口調** | 丁寧語 |
| **声のトーン** | 穏やか、ゆっくり、信頼感 |
| **台詞例** | 「すばらしいですね」「今日も調子がいいですよ」 |
| **出現頻度** | 控えめ（重要な場面のみ） |

#### のうかつ先生（親世代向け）

| 属性 | 仕様 |
|------|------|
| **外見** | カジュアルな装い、ノートPC持ち |
| **口調** | 親しみのある丁寧語 |
| **声のトーン** | 明るい、テンポよく、フレンドリー |
| **台詞例** | 「いい調子!」「データ見てみよう」 |
| **出現頻度** | 標準（要所で登場） |

#### のうかつくん（子供・孫世代向け）

| 属性 | 仕様 |
|------|------|
| **外見** | キャップ、リュック、元気なポーズ |
| **口調** | 元気語、ひらがな多め |
| **声のトーン** | 元気いっぱい、ハイテンション |
| **台詞例** | 「すっごーい!」「やったね!」 |
| **出現頻度** | 常駐（画面のどこかに常にいる） |

### 6.4 出現タイミングと台詞パターン

#### テスト前の声かけ

| バリアント | 台詞 |
|----------|------|
| のうかつ博士 | 「それでは、今日のトレーニングを始めましょう」 |
| のうかつ先生 | 「今日もがんばろう! 準備はいい?」 |
| のうかつくん | 「きょうもいっしょにあそぼう!」 |

#### 正解時の褒め（ランダムで1つ表示）

| バリアント | 台詞パターン |
|----------|------------|
| のうかつ博士 | 「すばらしいですね」「正解です。さすがですね」「その調子です」 |
| のうかつ先生 | 「いい調子!」「バッチリ!」「その通り!」 |
| のうかつくん | 「すっごーい!」「やったね!」「せいかーい!」 |

#### 不正解時の励まし

| バリアント | 台詞パターン |
|----------|------------|
| のうかつ博士 | 「おしいですね。こう考えてみてください」「大丈夫、ゆっくり考えましょう」 |
| のうかつ先生 | 「おしい! もう一度やってみよう」「次はきっといけるよ」 |
| のうかつくん | 「おしいっ! つぎはいけるよ!」「ドンマイドンマイ!」 |

#### ストリーク達成時

| 連続数 | 台詞例（のうかつ先生） |
|--------|---------------------|
| 3連続 | 「3連続正解! ノッてきたね!」 |
| 5連続 | 「5連続! すごい集中力だね!」 |
| 10連続 | 「10連続!! 今日は絶好調だ!」 |

#### 空状態のフォロー

| 状態 | 台詞例（のうかつ先生） |
|------|---------------------|
| テスト未実施 | 「まだ今日のトレーニングをしていないみたいだよ。一緒にやってみない?」 |
| 家族未登録 | 「家族を招待してみよう! みんなでやるともっと楽しいよ」 |
| データなし | 「まだデータがないけど、これからどんどん増えていくよ!」 |

#### エラー画面のフォロー

| エラー種別 | 台詞例（のうかつ先生） |
|----------|---------------------|
| ネットワークエラー | 「ネットワークにつながらないみたい。少し待ってからもう一度試してみよう」 |
| サーバーエラー | 「ちょっとうまくいかなかったみたい。もう一度やってみよう」 |
| タイムアウト | 「時間がかかっているみたい。もう少しだけ待ってみよう」 |

### 6.5 キャラクターの絶対ルール

1. **常にポジティブ**: 否定的な表現、怒りの表情、がっかりした表情は使用禁止
2. **責めない**: テスト結果が悪くても「もっとがんばりなさい」のような言い方はしない
3. **医療用語を使わない**: 「認知機能が低下しています」のような表現は厳禁
4. **比較しない**: 「〇〇さんより低いです」のような他者比較はしない
5. **強制しない**: 「毎日やらなければダメ」のような義務感を与える表現はしない
6. **一貫性**: 同じ場面では同じトーンで語りかける。気まぐれな態度は取らない

---

## 7. Tone of Voice（文言ガイドライン）

### 7.1 基本方針

**やさしい日本語で、励まし続ける。**

このアプリのすべてのテキストは「家族の中で一番やさしい人」が話しかけるように書く。技術用語を排除し、漢字にはふりがなの余地を持ち、短い文で伝える。

### 7.2 文言の5原則

| 原則 | 説明 | 良い例 | 悪い例 |
|------|------|--------|--------|
| **やさしく** | 専門用語を使わない。日常の言葉で | 「脳のトレーニング」 | 「認知機能訓練」 |
| **前向きに** | 否定形を避け、肯定形で | 「もう一度やってみよう」 | 「間違いです」 |
| **短く** | 1文は30文字以内が目安 | 「記録が更新されたよ!」 | 「あなたの本日のスコアが前回の記録を上回りましたのでお知らせいたします」 |
| **具体的に** | 抽象的な表現を避ける | 「あと3問で今日の分が終わるよ」 | 「もう少しでゴールです」 |
| **温かく** | 人間味のある表現 | 「いい調子だね!」 | 「正答率78%です」 |

### 7.3 否定形を使わないルール

| 場面 | 使ってはいけない表現 | 使うべき表現 |
|------|-------------------|------------|
| テスト不正解 | 「不正解です」「間違いです」 | 「おしい! 答えは〇〇だよ」 |
| 低スコア | 「スコアが低いです」 | 「ここが伸びしろだよ」 |
| 未達成 | 「目標未達です」 | 「あと少しで目標達成!」 |
| エラー | 「エラーが発生しました」 | 「うまくいかなかったみたい。もう一度試してみよう」 |
| 入力不備 | 「入力が不正です」 | 「ここを確認してみよう」 |
| テスト未実施 | 「まだ何もしていません」 | 「今日のトレーニングが待っているよ!」 |
| ストリーク途切れ | 「連続記録が途切れました」 | 「今日からまた始めよう!」 |

### 7.4 世代別の言葉遣い

#### シニア世代向け

| 項目 | ルール |
|------|--------|
| 敬語レベル | 丁寧語（「です・ます」調） |
| 文の長さ | 20文字以内推奨 |
| 漢字率 | 標準（常用漢字の範囲） |
| カタカナ語 | 最小限。使用時は補足説明を括弧で |
| 例 | 「すばらしい結果ですね。この調子で続けましょう」 |

#### 親世代向け

| 項目 | ルール |
|------|--------|
| 敬語レベル | 親しみのある丁寧語 |
| 文の長さ | 30文字以内推奨 |
| 漢字率 | 標準 |
| カタカナ語 | 一般的なものはそのまま使用可 |
| 例 | 「いい調子! お母さんのスコアも上がってきているよ」 |

#### 子供・孫世代向け

| 項目 | ルール |
|------|--------|
| 敬語レベル | タメ語、元気な口調 |
| 文の長さ | 15文字以内推奨 |
| 漢字率 | 低め。ふりがな付き |
| カタカナ語 | わかりやすいもののみ |
| 例 | 「やったね! すごいよ!」 |

### 7.5 エラーメッセージの書き方

エラーメッセージは以下の3パート構成で書く。

```
[何が起きたか] + [なぜ起きたか(任意)] + [どうすればいいか]
```

#### テンプレート

| パート | 内容 | 例 |
|--------|------|-----|
| 状況説明 | 何が起きたかをやさしく | 「つながらないみたい」 |
| 原因（任意） | 必要に応じて簡潔に | 「電波が弱いのかもしれません」 |
| 解決策 | 具体的な次のアクション | 「少し待ってから「もう一度」を押してみよう」 |

#### エラーメッセージ例

| エラー種別 | メッセージ |
|----------|----------|
| ネットワーク切断 | 「インターネットにつながらないみたい。Wi-Fiや電波を確認してから、もう一度試してみよう」 |
| サーバーエラー | 「ちょっとうまくいかなかったみたい。少し待ってから、もう一度やってみよう」 |
| 認証エラー | 「ログインの情報を確認してみよう。パスワードがわからないときは「パスワードを忘れた」から再設定できるよ」 |
| 保存失敗 | 「保存できなかったみたい。もう一度「保存」を押してみよう。大丈夫、入力した内容は残っているよ」 |
| 画像読み込み失敗 | 「画像を表示できないみたい。ページを再読み込みしてみよう」 |

### 7.6 医療用語の言い換え表

アプリ内で医療用語を直接使用してはならない。以下の言い換えを適用する。

| 医療用語 | 言い換え |
|---------|---------|
| 認知症 | 脳の健康 |
| 認知機能 | 脳力（のうりょく） |
| 認知機能低下 | 使わない（代わりに「伸びしろ」と表現） |
| 検査 | トレーニング、チャレンジ |
| 診断 | 使わない |
| 症状 | 使わない |
| 予防 | 元気を保つ、脳を鍛える |
| リハビリ | トレーニング |
| 記憶障害 | 使わない |
| 注意力欠如 | 使わない |

### 7.7 数値の表示ルール

| 場面 | 表示方法 | 例 |
|------|---------|-----|
| スコア | 大きく、カラフルに、カウントアップで | 「85点!」 |
| 伸び率 | 前回比をポジティブに | 「前回より +5点!」 |
| 変化なし | ニュートラルに | 「いい調子をキープ!」 |
| 下がった場合 | 前向きに | 「今日はこの領域を重点的にやってみよう」 |
| パーセンテージ | 達成度として | 「今日の目標 80% 達成!」 |
| ランキング | 順位ではなく成長として | 使わない（個人の成長にフォーカス） |

---

## 8. Anti-Patterns (NEVER)

以下のパターンはデザイン・実装・コンテンツのすべてにおいて**絶対に使用禁止**とする。コードレビュー、品質ゲート（Phase 5.5）で検出された場合はデプロイをブロックする。

### 8.1 フォント

| 禁止パターン | 理由 | 検出方法 |
|------------|------|---------|
| Inter | AI生成コードの典型パターン（AI slop） | grep検索 |
| Roboto | AI生成コードの典型パターン（AI slop） | grep検索 |
| Arial | 没個性、温かみがない | grep検索 |
| 極細ウェイト (font-weight: 100-200) | シニアが読めない | CSS解析 |
| system-ui のみでの指定 | ブランドの一貫性が失われる | CSS解析 |

### 8.2 カラー

| 禁止パターン | 理由 | 検出方法 |
|------------|------|---------|
| `#FF0000` 系の赤色 | シニアに不安・恐怖を与える | カラーコード検索 |
| 紫グラデーション on 白背景 | AI生成デザインの典型（AI slop） | 目視/CSS解析 |
| 真っ黒 `#000000` の背景 | 冷たく威圧的 | カラーコード検索 |
| ネオンカラー | 目に優しくない。品がない | 目視 |
| 虹色グラデーション | 品がない | 目視/CSS解析 |

### 8.3 レイアウト・エフェクト

| 禁止パターン | 理由 | 代替案 |
|------------|------|--------|
| 過剰なドロップシャドウ | AI slop | グリーン系の控えめなシャドウ |
| グロー効果 (box-shadow: glow) | AI slop | opacity変化のみ |
| パララックススクロール | シニアに酔いを与える | 通常スクロール |
| 無限スクロール | シニアが現在位置を見失う | ページネーション |
| 自動カルーセル | 操作が追いつかない | 手動切替のみ |
| 小さすぎるボタン (< 44px) | タッチミスの原因 | 最小 44px (シニア: 56px) |
| テキストの画像化 | アクセシビリティ違反、翻訳不可 | テキスト要素で記述 |
| h-screen の使用 | iOS Safari のアドレスバー問題 | h-dvh を使用 |
| z-index のマジックナンバー | 管理不能になる | 定義済みスケール使用 |

### 8.4 アニメーション

| 禁止パターン | 理由 | 代替案 |
|------------|------|--------|
| フラッシュ/点滅 (3Hz以上) | 光過敏性発作のリスク (WCAG 2.3.1) | ゆっくりしたパルス |
| 急激な色変化 | 不安を与える | フェードでの色遷移 |
| レイアウトプロパティのアニメーション | パフォーマンス劣化（リフロー発生） | transform, opacity のみ |
| 5秒以上の連続アニメーション | CPU/バッテリー消費 | 一度きりの再生 |
| will-change の常時設定 | GPU メモリの過剰消費 | アニメーション直前にのみ付与 |
| backdrop-filter の多用 | シニアデバイスの GPU 負荷 | 使用最小限 |
| blur() > 10px | GPU 負荷 | 10px以下に制限 |

### 8.5 コンテンツ

| 禁止パターン | 理由 | 代替案 |
|------------|------|--------|
| 否定的な表現（「間違い」「失敗」「ダメ」「不正解」） | ユーザーの意欲を削ぐ | ポジティブな言い換え |
| 医療用語の直接使用（「認知症」「認知機能低下」） | 不安を煽る | やさしい日本語に言い換え |
| 複雑な数値の羅列 | シニアに理解しづらい | グラフ/チャートで視覚化 |
| 英語のみの表記 | 日本語ネイティブユーザー向けアプリ | 日本語必須、英語は補足 |
| 他者比較のランキング表示 | 劣等感を与える | 個人の成長推移にフォーカス |
| 「毎日やりなさい」的な義務感表現 | ストレスになる | 「今日もやってみない?」 |
| キャラクターの否定的な表情 | 不安を与える | 常にポジティブな表情 |
| 長文の説明テキスト | 読む気が失せる | 短文 + 段階的開示 |

### 8.6 チェックリスト（Phase 5.5 品質ゲート用）

実装完了後、以下をすべて確認する。

```
[ ] Inter / Roboto / Arial フォントが使われていない
[ ] font-weight: 100-200 が使われていない
[ ] #FF0000 系の赤色が使われていない
[ ] #000000 の背景が使われていない
[ ] 紫グラデーションが使われていない
[ ] h-screen ではなく h-dvh が使われている
[ ] 44px 未満のタッチターゲットがない
[ ] 自動カルーセルがない
[ ] 無限スクロールがない
[ ] 3Hz以上のフラッシュ/点滅がない
[ ] レイアウトプロパティのアニメーションがない
[ ] will-change が常時設定されていない
[ ] blur() > 10px がない
[ ] 否定的な表現がない
[ ] 医療用語が直接使われていない
[ ] すべてのエラーメッセージがポジティブに書かれている
[ ] prefers-reduced-motion に対応している
[ ] すべてのコントラスト比が基準を満たしている
[ ] アイコンのみのボタンに aria-label がある
[ ] テストの不正解表現が「おしい」系になっている
```

---

## 付録

### A. 実装チェックポイント

| Phase | チェック内容 | 担当 |
|-------|-----------|------|
| Phase 4 (実装) | フォント設定、カラートークン、コンポーネントカスタマイズ | CodeGenAgent |
| Phase 5 (テスト) | アクセシビリティテスト、Lighthouse スコア | TestAgent |
| Phase 5.5 (品質ゲート) | Anti-Patterns 検出、UI品質レビュー | ReviewAgent |

### B. 関連ドキュメント

- [デザイン要件書](../requirements/design-requirements.md) -- Phase 1 出力
- [デザインシステム](./design-system.yml) -- Phase 2 出力（カラートークン、スペーシング）
- [コンポーネントライブラリ](./component-library.md) -- Phase 2 出力（shadcn/ui カスタマイズ）
- [レスポンシブガイドライン](./responsive-guidelines.md) -- Phase 2 出力

### C. 更新履歴

| バージョン | 日付 | 変更内容 |
|----------|------|---------|
| 1.0.0 | 2026-02-15 | 初版作成 |

---

*CCAGI SDK Phase 2 - UI設計方針書 v1.0.0*
